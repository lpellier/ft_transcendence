ZxWXgSB00aq20xFfilw1YSr/MaHSFyMyXDQ==&user[login]=bolmos-o&user[password]=Boseur18code!
*   Trying 10.52.1.76:443...
* TCP_NODELAY set
* Connected to signin.intra.42.fr (10.52.1.76) port 443 (#0)
* ALPN, offering h2
* ALPN, offering http/1.1
* successfully set certificate verify locations:
*   CAfile: /etc/ssl/certs/ca-certificates.crt
  CApath: /etc/ssl/certs
} [5 bytes data]
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [512 bytes data]
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4007 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256
* ALPN, server accepted to use h2
* Server certificate:
*  subject: CN=*.intra.42.fr
*  start date: Sep 27 00:00:00 2021 GMT
*  expire date: Sep 30 23:59:59 2022 GMT
*  subjectAltName: host "signin.intra.42.fr" matched cert's "*.intra.42.fr"
*  issuer: C=US; O=DigiCert Inc; CN=RapidSSL TLS DV RSA Mixed SHA256 2020 CA-1
*  SSL certificate verify ok.
* Using HTTP2, server supports multi-use
* Connection state changed (HTTP/2 confirmed)
* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0
} [5 bytes data]
* Using Stream ID: 1 (easy handle 0x55e0bf5e92f0)
} [5 bytes data]
> POST /users/sign_in HTTP/2
> Host: signin.intra.42.fr
> user-agent: curl/7.68.0
> accept: */*
> cookie: _intra_42_session_production=eebacf101abee20a9c1e14845bdf4834
> content-length: 172
> content-type: application/x-www-form-urlencoded
> 
{ [5 bytes data]
* Connection state changed (MAX_CONCURRENT_STREAMS == 128)!
} [5 bytes data]
* We are completely uploaded and fine
{ [5 bytes data]
< HTTP/2 302 
< server: nginx
< date: Wed, 01 Jun 2022 17:44:51 GMT
< content-type: text/html; charset=utf-8
< location: https://profile.intra.42.fr
< status: 302 Found
< x-frame-options: SAMEORIGIN
< x-xss-protection: 1; mode=block
< x-content-type-options: nosniff
* Added cookie _mkra_stck="6bb3259582d6b2bddc3e1d553bfbf743%3A1654105496.776359" for domain signin.intra.42.fr, path /, expire 1654105501
< set-cookie: _mkra_stck=6bb3259582d6b2bddc3e1d553bfbf743%3A1654105496.776359; path=/; HTTPOnly; Secure; max-age=10; expires=Wed, 01 Jun 2022 17:45:01 -0000; HttpOnly
< cache-control: no-cache
< x-request-id: b92b5c47-d32c-4f0a-8d4f-622a9d3d959d
< x-runtime: 0.144346
< vary: Origin,Accept-Encoding
< x-rack-cors: preflight-hit; no-origin
< front-end-https: on
< strict-transport-security: max-age=15552001; includeSubDomains;
< 
* Ignoring the response-body
{ [93 bytes data]
* Connection #0 to host signin.intra.42.fr left intact
* Issue another request to this URL: 'https://profile.intra.42.fr/'
* Switch from POST to GET
*   Trying 10.52.1.76:443...
* TCP_NODELAY set
* Connected to profile.intra.42.fr (10.52.1.76) port 443 (#1)
* ALPN, offering h2
* ALPN, offering http/1.1
* successfully set certificate verify locations:
*   CAfile: /etc/ssl/certs/ca-certificates.crt
  CApath: /etc/ssl/certs
} [5 bytes data]
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [512 bytes data]
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4007 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256
* ALPN, server accepted to use h2
* Server certificate:
*  subject: CN=*.intra.42.fr
*  start date: Sep 27 00:00:00 2021 GMT
*  expire date: Sep 30 23:59:59 2022 GMT
*  subjectAltName: host "profile.intra.42.fr" matched cert's "*.intra.42.fr"
*  issuer: C=US; O=DigiCert Inc; CN=RapidSSL TLS DV RSA Mixed SHA256 2020 CA-1
*  SSL certificate verify ok.
* Using HTTP2, server supports multi-use
* Connection state changed (HTTP/2 confirmed)
* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0
} [5 bytes data]
* Using Stream ID: 1 (easy handle 0x55e0bf5e92f0)
} [5 bytes data]
> GET / HTTP/2
> Host: profile.intra.42.fr
> user-agent: curl/7.68.0
> accept: */*
> cookie: _intra_42_session_production=eebacf101abee20a9c1e14845bdf4834
> 
{ [5 bytes data]
* Connection state changed (MAX_CONCURRENT_STREAMS == 128)!
} [5 bytes data]
< HTTP/2 302 
< server: nginx
< date: Wed, 01 Jun 2022 17:44:51 GMT
< content-type: text/html; charset=utf-8
< location: https://signin.intra.42.fr/users/sign_in
< status: 302 Found
< cache-control: no-cache
< x-request-id: 1a242e90-6fa2-4830-8185-22ea30fdc630
< x-runtime: 0.011049
< vary: Origin,Accept-Encoding
< x-rack-cors: preflight-hit; no-origin
< front-end-https: on
< strict-transport-security: max-age=15552001; includeSubDomains;
< 
* Ignoring the response-body
{ [106 bytes data]
* Connection #1 to host profile.intra.42.fr left intact
* Issue another request to this URL: 'https://signin.intra.42.fr/users/sign_in'
* Found bundle for host signin.intra.42.fr: 0x55e0bf5e0e30 [can multiplex]
* Re-using existing connection! (#0) with host signin.intra.42.fr
* Connected to signin.intra.42.fr (10.52.1.76) port 443 (#0)
* Using Stream ID: 3 (easy handle 0x55e0bf5e92f0)
} [5 bytes data]
> GET /users/sign_in HTTP/2
> Host: signin.intra.42.fr
> user-agent: curl/7.68.0
> accept: */*
> cookie: _mkra_stck=6bb3259582d6b2bddc3e1d553bfbf743%3A1654105496.776359; _intra_42_session_production=eebacf101abee20a9c1e14845bdf4834
> 
{ [5 bytes data]
< HTTP/2 200 
< server: nginx
< date: Wed, 01 Jun 2022 17:44:51 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< status: 200 OK
< x-frame-options: SAMEORIGIN
< x-xss-protection: 1; mode=block
< x-content-type-options: nosniff
< etag: W/"90218ece84a7927efbbce855fd0b45ce"
< cache-control: max-age=0, private, must-revalidate
* Replaced cookie _intra_42_session_production="eebacf101abee20a9c1e14845bdf4834" for domain intra.42.fr, path /, expire 1654710291
< set-cookie: _intra_42_session_production=eebacf101abee20a9c1e14845bdf4834; domain=intra.42.fr; path=/; HTTPOnly; Secure; expires=Wed, 08 Jun 2022 17:44:51 -0000; HttpOnly
< x-request-id: d251fb0a-50b6-448a-b345-7c324e1f7737
< x-runtime: 0.011076
< vary: Origin,Accept-Encoding
< x-rack-cors: preflight-hit; no-origin
< front-end-https: on
< strict-transport-security: max-age=15552001; includeSubDomains;
< 
{ [3478 bytes data]
* Connection #0 to host signin.intra.42.fr left intact
before auth
*   Trying 127.0.0.1:3001...
* TCP_NODELAY set
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* Connected to 127.0.0.1 (127.0.0.1) port 3001 (#0)
> GET /auth HTTP/1.1
> Host: 127.0.0.1:3001
> User-Agent: curl/7.68.0
> Accept: */*
> 
* Mark bundle as not supporting multiuse
< HTTP/1.1 302 Found
< X-Powered-By: Express
< Access-Control-Allow-Origin: http://127.0.0.1:3000
< Vary: Origin
< Location: https://api.intra.42.fr/oauth/authorize?response_type=code&redirect_uri=http%3A%2F%2F127.0.0.1%3A3001%2Fauth&client_id=599878db9c7f713d0988e2c1e2672a5d888593be77d49fed8bec54b4b1d404bc
< Content-Length: 0
< Date: Wed, 01 Jun 2022 17:44:51 GMT
< Connection: keep-alive
< Keep-Alive: timeout=5
< 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host 127.0.0.1 left intact
* Clear auth, redirects to port from 3001 to 443Issue another request to this URL: 'https://api.intra.42.fr/oauth/authorize?response_type=code&redirect_uri=http%3A%2F%2F127.0.0.1%3A3001%2Fauth&client_id=599878db9c7f713d0988e2c1e2672a5d888593be77d49fed8bec54b4b1d404bc'
*   Trying 163.172.250.56:443...
* TCP_NODELAY set
* Connected to api.intra.42.fr (163.172.250.56) port 443 (#1)
* ALPN, offering h2
* ALPN, offering http/1.1
* successfully set certificate verify locations:
*   CAfile: /etc/ssl/certs/ca-certificates.crt
  CApath: /etc/ssl/certs
} [5 bytes data]
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [512 bytes data]
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [122 bytes data]
* TLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):
{ [15 bytes data]
* TLSv1.3 (IN), TLS handshake, Certificate (11):
{ [4014 bytes data]
* TLSv1.3 (IN), TLS handshake, CERT verify (15):
{ [264 bytes data]
* TLSv1.3 (IN), TLS handshake, Finished (20):
{ [36 bytes data]
* TLSv1.3 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.3 (OUT), TLS handshake, Finished (20):
} [36 bytes data]
* SSL connection using TLSv1.3 / TLS_AES_128_GCM_SHA256
* ALPN, server accepted to use h2
* Server certificate:
*  subject: CN=*.intra.42.fr
*  start date: Sep 27 00:00:00 2021 GMT
*  expire date: Sep 30 23:59:59 2022 GMT
*  subjectAltName: host "api.intra.42.fr" matched cert's "*.intra.42.fr"
*  issuer: C=US; O=DigiCert Inc; CN=RapidSSL TLS DV RSA Mixed SHA256 2020 CA-1
*  SSL certificate verify ok.
* Using HTTP2, server supports multi-use
* Connection state changed (HTTP/2 confirmed)
* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0
} [5 bytes data]
* Using Stream ID: 1 (easy handle 0x55d73796e2f0)
} [5 bytes data]
> GET /oauth/authorize?response_type=code&redirect_uri=http%3A%2F%2F127.0.0.1%3A3001%2Fauth&client_id=599878db9c7f713d0988e2c1e2672a5d888593be77d49fed8bec54b4b1d404bc HTTP/2
> Host: api.intra.42.fr
> user-agent: curl/7.68.0
> accept: */*
> cookie: _intra_42_session_production=eebacf101abee20a9c1e14845bdf4834
> 
{ [5 bytes data]
* TLSv1.3 (IN), TLS handshake, Newsession Ticket (4):
{ [130 bytes data]
* Connection state changed (MAX_CONCURRENT_STREAMS == 250)!
} [5 bytes data]
< HTTP/2 302 
< cache-control: no-cache
< content-type: text/html; charset=utf-8
< date: Wed, 01 Jun 2022 17:44:51 GMT
< location: https://signin.intra.42.fr/users/sign_in?redirect_to=https%3A%2F%2Fapi.intra.42.fr%2Foauth%2Fauthorize%3Fresponse_type%3Dcode%26redirect_uri%3Dhttp%253A%252F%252F127.0.0.1%253A3001%252Fauth%26client_id%3D599878db9c7f713d0988e2c1e2672a5d888593be77d49fed8bec54b4b1d404bc
< status: 302 Found
< vary: Origin,Accept-Encoding
< x-content-type-options: nosniff
< x-frame-options: SAMEORIGIN
< x-rack-cors: preflight-hit; no-origin
< x-request-id: eb8cf2ba-582a-4346-a60b-b0008c15d60e
< x-runtime: 0.007843
< x-xss-protection: 1; mode=block
< 
{ [5 bytes data]
* Ignoring the response-body
{ [334 bytes data]
100   334    0   334    0     0   2854      0 --:--:-- --:--:-- --:--:--  2854
* Connection #1 to host api.intra.42.fr left intact
* Issue another request to this URL: 'https://signin.intra.42.fr/users/sign_in?redirect_to=https%3A%2F%2Fapi.intra.42.fr%2Foauth%2Fauthorize%3Fresponse_type%3Dcode%26redirect_uri%3Dhttp%253A%252F%252F127.0.0.1%253A3001%252Fauth%26client_id%3D599878db9c7f713d0988e2c1e2672a5d888593be77d49fed8bec54b4b1d404bc'
*   Trying 10.52.1.76:443...
* TCP_NODELAY set
* Connected to signin.intra.42.fr (10.52.1.76) port 443 (#2)
* ALPN, offering h2
* ALPN, offering http/1.1
* successfully set certificate verify locations:
*   CAfile: /etc/ssl/certs/ca-certificates.crt
  CApath: /etc/ssl/certs
} [5 bytes data]
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [512 bytes data]
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4007 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256
* ALPN, server accepted to use h2
* Server certificate:
*  subject: CN=*.intra.42.fr
*  start date: Sep 27 00:00:00 2021 GMT
*  expire date: Sep 30 23:59:59 2022 GMT
*  subjectAltName: host "signin.intra.42.fr" matched cert's "*.intra.42.fr"
*  issuer: C=US; O=DigiCert Inc; CN=RapidSSL TLS DV RSA Mixed SHA256 2020 CA-1
*  SSL certificate verify ok.
* Using HTTP2, server supports multi-use
* Connection state changed (HTTP/2 confirmed)
* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0
} [5 bytes data]
* Using Stream ID: 1 (easy handle 0x55d73796e2f0)
} [5 bytes data]
> GET /users/sign_in?redirect_to=https%3A%2F%2Fapi.intra.42.fr%2Foauth%2Fauthorize%3Fresponse_type%3Dcode%26redirect_uri%3Dhttp%253A%252F%252F127.0.0.1%253A3001%252Fauth%26client_id%3D599878db9c7f713d0988e2c1e2672a5d888593be77d49fed8bec54b4b1d404bc HTTP/2
> Host: signin.intra.42.fr
> user-agent: curl/7.68.0
> accept: */*
> cookie: _mkra_stck=6bb3259582d6b2bddc3e1d553bfbf743%3A1654105496.776359; _intra_42_session_production=eebacf101abee20a9c1e14845bdf4834
> 
{ [5 bytes data]
* Connection state changed (MAX_CONCURRENT_STREAMS == 128)!
} [5 bytes data]
< HTTP/2 200 
< server: nginx
< date: Wed, 01 Jun 2022 17:44:52 GMT
< content-type: text/html; charset=utf-8
< vary: Accept-Encoding
< status: 200 OK
< x-frame-options: SAMEORIGIN
< x-xss-protection: 1; mode=block
< x-content-type-options: nosniff
< etag: W/"dabf6e8bb7317d8da670b7559186ad93"
< cache-control: max-age=0, private, must-revalidate
* Replaced cookie _intra_42_session_production="eebacf101abee20a9c1e14845bdf4834" for domain intra.42.fr, path /, expire 1654710291
< set-cookie: _intra_42_session_production=eebacf101abee20a9c1e14845bdf4834; domain=intra.42.fr; path=/; HTTPOnly; Secure; expires=Wed, 08 Jun 2022 17:44:51 -0000; HttpOnly
< x-request-id: 22563b5c-d42e-463a-a150-913dba4abf26
< x-runtime: 0.020932
< vary: Origin,Accept-Encoding
< x-rack-cors: preflight-hit; no-origin
< front-end-https: on
< strict-transport-security: max-age=15552001; includeSubDomains;
< 
{ [5198 bytes data]
100  5198    0  5198    0     0  33108      0 --:--:-- --:--:-- --:--:-- 33108
* Connection #2 to host signin.intra.42.fr left intact
before me
*   Trying 127.0.0.1:3001...
* TCP_NODELAY set
* Connected to 127.0.0.1 (127.0.0.1) port 3001 (#0)
> GET /users/me HTTP/1.1
> Host: 127.0.0.1:3001
> User-Agent: curl/7.68.0
> Accept: */*
> 
* Mark bundle as not supporting multiuse
< HTTP/1.1 401 Unauthorized
< X-Powered-By: Express
< Access-Control-Allow-Origin: http://127.0.0.1:3000
< Vary: Origin
< Content-Type: application/json; charset=utf-8
< Content-Length: 43
< ETag: W/"2b-hGShxOkieaAVDloBubJVM+h58D8"
< Date: Wed, 01 Jun 2022 17:44:52 GMT
< Connection: keep-alive
< Keep-Alive: timeout=5
< 
* Connection #0 to host 127.0.0.1 left intact
{"statusCode":401,"message":"Unauthorized"}% 